# 函数
当函数是对象的一个属性时，它叫做方法；当函数用于初始化一个新创建的对象时，它叫做构造函数。

函数可以嵌套在其他函数中定义，这样它们就可以访问它们被定义时所处的作用域的任何变量。这就是闭包。

当一个函数包含超过三个形参时，最好通过键值对的形式即对象来传入参数。

```
(function(){
    // 模块代码，里面的参数处于局部作用域，不会污染全局变量。也叫做立即调用函数。
}())
```

函数的执行依赖于变量作用域，这个作用域是在函数定义时决定的，而不是函数调用时决定的。

所有函数都是可调用的，但是并非所有可调用的对象都是函数。

```
// 检查一个对象是否是真正的函数对象
function isFunction(x) {
    return Object.prototype.toString.call(x) === "[object Function]"
}
```

```
// 创建一个简单的闭包
    function makeCounter() {
        let k = 0;
        return function() {
            return ++k;
        }
    }
    
    const counter = makeCounter();
    
    console.log(counter()); // 1
    console.log(counter()); // 2
    
```
闭包的创造条件是：
1. 存在内外两层函数
2. 内层函数对外层函数的局部变量进行了引用

```
// 函数式编程
// 数组中每个单词，首字母大写

// 一般写法
const arr = ['apple', 'pen', 'apple-pen'];
for(const i in arr){
  const c = arr[i][0];
  arr[i] = c.toUpperCase() + arr[i].slice(1);
}

console.log(arr);

// 函数式写法一
function upperFirst(word) {
  return word[0].toUpperCase() + word.slice(1);
}

function wordToUpperCase(arr) {
  return arr.map(upperFirst);
}

console.log(wordToUpperCase(['apple', 'pen', 'apple-pen']));